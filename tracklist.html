<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <title>Phase Tracklist</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    @font-face {
      font-family: "Fixedsys Excelsior";
      src: url("fonts/fsex-webfont.woff") format("woff");
      font-weight: normal;
      font-style: normal;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html,
    body {
      width: 100%;
      height: 100%;
      font-family: "Fixedsys Excelsior", monospace;
      background: #ffffff;
      color: #0a0a0a;
    }

    html {
      overflow-y: scroll;
    }

    body {
      display: grid;
      grid-template-rows: auto 1fr auto;
      grid-template-columns: repeat(12, 1fr);
    }

    .logo {
      grid-row: 1;
      grid-column: 1 / 2;
      position: fixed;
      padding: 20px;
      font-size: 18px;
      white-space: nowrap;
    }

    .logo img {
      display: block;
      width: 80%;
      height: auto;
    }

    .page-title {
      grid-row: 1;
      grid-column: 4 / 10;
      padding-top: 20px;
      font-size: 18px;
      letter-spacing: -0.2px;
      white-space: nowrap;
    }

    .input {
      grid-row: 2;
      grid-column: 4 / 10;
      margin-top: 40px;
    }

    .side-left {
      grid-row: 2;
      grid-column: 1 / 2;
      position: fixed;
      align-self: center;
      justify-self: start;
      font-size: 18px;
      padding: 20px;
      color: rgba(0, 0, 0, 0.6);
      text-decoration: none;
      white-space: nowrap;
      transition: color 0.2s ease;
    }

    .side-left:hover {
      color: rgba(0, 0, 0, 1);
    }

    .side-right {
      grid-row: 2;
      grid-column: 12 / 13;
      position: fixed;
      align-self: center;
      justify-self: end;
      font-size: 18px;
      padding: 20px;
      color: rgba(0, 0, 0, 0.6);
      text-decoration: none;
      white-space: nowrap;
      transition: color 0.2s ease;
    }

    .side-right:hover {
      color: rgba(0, 0, 0, 0.1);
    }

    .button-container {
      grid-row: 2;
      grid-column: 4 / 10;
      align-self: center;
      justify-self: stretch;
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      justify-content: flex-start;
      margin-bottom: 20px;
    }

    @keyframes fadeIn {
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .button-container button {
      background: transparent;
      font-family: "Fixedsys Excelsior", monospace;
      color: #0a0a0a;
      padding: 8px 10px;
      cursor: pointer;
      opacity: 0.5;
      font-size: 18px;
      border: 1px solid #111;
      transition: opacity 0.4s ease, background 0.3s ease;
    }

    .button-container button.active {
      background: #ffffff;
      outline: 2px solid #111;
      color: #0a0a0a;
      opacity: 1;
    }

    .button-container button:hover {
      outline: 1px solid #111;
    }

    #content {
      grid-row: 2;
      grid-column: 4 / 10;
      align-self: start;
      justify-self: stretch;
      font-family: "Fixedsys Excelsior", monospace;
      height: 25em;
      overflow-y: auto;
      white-space: pre-wrap;
      word-wrap: break-word;
      font-size: 18px;
      background-color: #f9f9f9;
      padding: 1em;
    }

    #content::-webkit-scrollbar {
      width: 8px;
    }

    #content::-webkit-scrollbar-track {
      background: #f9f9f9;
    }

    #content::-webkit-scrollbar-thumb {
      background-color: #fbfbfb;
      border-radius: 4px;
    }

    #content::-webkit-scrollbar-thumb:hover {
      background-color: #f9f9f9;
    }

    #content {
      scrollbar-width: thin;
      scrollbar-color: #d0d0d0 #f9f9f9;
      margin-top: 0;
    }

    .bottom-links {
      grid-row: 3;
      grid-column: 4 / 10;
      display: flex;
      gap: 20px;
      justify-content: flex-start;
      align-items: center;
      padding-bottom: 20px;
      white-space: nowrap;
    }

    .bottom-links a {
      font-size: 18px;
      color: #0a0a0a;
      color: rgba(0, 0, 0, 0.6);
      text-decoration: none;
      transition: opacity 0.2s ease;
    }

    .bottom-links a:hover {
      color: rgba(0, 0, 0, 1);
    }

    @media (max-width: 480px) {
      body {
        overflow: scroll;
      }

      .logo {
        font-size: 16px;
        padding: 16px;
      }

      .page-title {
        font-size: 16px;
        grid-column: 3 / 11;
      }

      .side-left,
      .side-right {
        font-size: 14px;
        padding: 16px;
      }

      .button-container {
        gap: 8px;
      }

      .button-container button {
        font-size: 16px;
        min-width: 100px;
        padding: 6px 12px;
      }

      #content {
        font-size: 16px;
        height: 30%;
      }

      .bottom-links {
        padding-bottom: 16px;
      }

      .bottom-links a {
        font-size: 16px;
        margin-right: 12px;
      }
    }
  </style>
  <link rel="icon" href="favicon.svg" type="image/x-icon">
</head>

<body>
  <div class="logo">
    <a href="https://www.twitch.tv/n0de21" target="_blank">
      <img src="logo.svg" alt="n0de21 Logo" />
    </a>
  </div>
  <a href="lore.html" target="_self" class="side-left">← Lore</a>
  <a href="https://n0de21.github.io/voting-site/" target="_self" class="side-right">Voting →</a>

  <div class="page-title">Phase Tracklist</div>

  <div class="input">
    <div class="button-container" id="buttons"></div>
    <pre id="content"></pre>
  </div>

  <script>
    const phaseData = [
      { label: "INFO", file: "tracks/info.txt", active: true },
      {
        label: "PHASE1_SYNTH",
        file: "tracks/PHASE1_SYNTH.txt",
        active: false,
      },
      {
        label: "PHASE2_UPLINK",
        file: "tracks/PHASE2_UPLINK.txt",
        active: false,
      },
      {
        label: "PHASE3_INITIATE",
        file: "tracks/PHASE3_INITIATE.txt",
        active: false,
      },
      {
        label: "PHASE4_REVEAL",
        file: "tracks/PHASE4_REVEAL.txt",
        active: false,
      },
      {
        label: "PHASE5_DISRUPT",
        file: "tracks/PHASE5_DISRUPT.txt",
        active: false,
      },
      {
        label: "PHASE6_INFECT",
        file: "tracks/PHASE6_INFECT.txt",
        active: false,
      },
      {
        label: "PHASE7_REPEAT",
        file: "tracks/PHASE7_REPEAT.txt",
        active: false,
      },
      {
        label: "PHASE8_DIVERGE",
        file: "tracks/PHASE8_DIVERGE.txt",
        active: false,
      },
      {
        label: "PHASE9_REDACT",
        file: "tracks/PHASE9_REDACT.txt",
        active: false,
      },
      {
        label: "PHASE10_CONVERT",
        file: "tracks/PHASE10_CONVERT.txt",
        active: false,
      },
    ];

    function clearActive() {
      document
        .querySelectorAll("button")
        .forEach((b) => b.classList.remove("active"));
    }

    function createButtons() {
      const container = document.getElementById("buttons");
      const content = document.getElementById("content");

      phaseData.forEach(({ label, file, active }) => {
        const btn = document.createElement("button");
        btn.innerText = label;
        if (active) btn.classList.add("active");
        btn.onclick = () => {
          clearActive();
          btn.classList.add("active");
          fetch(file)
            .then((res) => res.text())
            .then((text) => (content.innerText = text))
            .catch(() => (content.innerText = `[!] Failed to load ${file}`));
        };
        container.appendChild(btn);
      });

      for (let i = 10; i < 21; i++) {
        const phLabel = `PHASE${i + 1}`;
        const btn = document.createElement("button");
        btn.innerText = phLabel;
        btn.style.opacity = "0.1";
        btn.disabled = true;
        container.appendChild(btn);
      }

      fetch("tracks/info.txt")
        .then((res) => res.text())
        .then((text) => (document.getElementById("content").innerText = text))
        .catch(
          () =>
          (document.getElementById("content").innerText =
            "[!] Failed to load info.txt")
        );
    }

    window.addEventListener("DOMContentLoaded", () => {
      createButtons();
    });
  </script>

  <div class="bottom-links">
    <a href="https://www.twitch.tv/n0de21" target="_blank">Stream</a>
    <a href="https://www.instagram.com/n0de21" target="_blank">IN</a>
    <a href="https://www.tiktok.com/@n0de21" target="_blank">TK</a>
    <a href="https://www.youtube.com/@n0de21sync" target="_blank">YT</a>
  </div>
  <script defer src="https://static.cloudflareinsights.com/beacon.min.js"
    data-cf-beacon='{"token": "11c560ed23354eaa947d04071870c871"}'></script>
  <!-- End Cloudflare Web Analytics -->
</body>

</html>